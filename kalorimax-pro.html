<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåü KaloriMax Pro 2.0 - Ultimate Beslenme Takibi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --dark-bg: #1a1a2e;
            --dark-card: #16213e;
            --dark-text: #e94560;
            --light-bg: #f8f9fa;
            --light-card: rgba(255, 255, 255, 0.95);
            --light-text: #333;
            --light-text-secondary: rgba(0, 0, 0, 0.6);
            --input-bg: rgba(255, 255, 255, 0.9);
            --input-text: #333;
            --input-placeholder: rgba(0, 0, 0, 0.6);
            --border-color: rgba(0, 0, 0, 0.1);
            --hover-bg: rgba(0, 0, 0, 0.05);
            --header-text: #333;
            --stat-text: #333;
            --label-text: #333;
        }

        [data-theme="dark"] {
            --bg-color: var(--dark-bg);
            --card-color: var(--dark-card);
            --text-color: var(--dark-text);
        }

        [data-theme="light"] {
            --bg-color: var(--light-bg);
            --card-color: var(--light-card);
            --text-color: var(--light-text);
            --text-secondary: var(--light-text-secondary);
            --input-bg: rgba(255, 255, 255, 0.9);
            --input-text: #333;
            --input-placeholder: rgba(0, 0, 0, 0.6);
            --border-color: rgba(0, 0, 0, 0.1);
            --hover-bg: rgba(0, 0, 0, 0.05);
            --header-text: #333;
            --stat-text: #333;
            --label-text: #333;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-color, var(--primary-gradient));
            color: var(--text-color, white);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* HEADER */
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--header-text, #333);
            text-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .header p {
            font-size: 1.1rem;
            color: var(--text-secondary, #666);
            margin-bottom: 20px;
        }

        /* THEME TOGGLE */
        .theme-toggle {
            position: absolute;
            top: 0;
            right: 0;
            background: rgba(255,255,255,0.2);
            border: none;
            padding: 10px 15px;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }

        /* USER PROFILE SECTION */
        .profile-section {
            background: var(--card-color, rgba(255,255,255,0.15));
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .profile-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--label-text, #333);
        }

        .form-group input, .form-group select {
            padding: 10px;
            border: none;
            border-radius: 10px;
            background: rgba(255,255,255,0.2);
            color: white;
            backdrop-filter: blur(10px);
        }

        .form-group input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .form-group select option {
            background: var(--input-bg);
            color: var(--input-text);
            padding: 10px;
        }

        /* TAB NAVIGATION */
        .tab-navigation {
            display: flex;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 5px;
            margin-bottom: 30px;
            backdrop-filter: blur(15px);
        }

        .tab-btn {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            color: var(--text-color, white);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .tab-btn.active {
            background: var(--secondary-gradient);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transform: translateY(-2px);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* DASHBOARD CARDS */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--card-color, rgba(255,255,255,0.15));
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--stat-text, #333);
        }

        .stat-label {
            font-size: 1rem;
            color: var(--text-secondary, #666);
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--success-gradient);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* SEARCH AND ADD SECTION */
        .search-section {
            background: var(--card-color, rgba(255,255,255,0.15));
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .search-container {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 300px;
            padding: 15px 20px;
            border: none;
            border-radius: 25px;
            background: rgba(255,255,255,0.2);
            color: white;
            font-size: 1rem;
            backdrop-filter: blur(10px);
        }

        .search-input::placeholder {
            color: rgba(255,255,255,0.7);
        }

        .category-filter {
            padding: 15px 20px;
            border: none;
            border-radius: 25px;
            background: rgba(255,255,255,0.2);
            color: white;
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .category-filter option {
            background: var(--input-bg);
            color: var(--input-text);
            padding: 10px;
        }

        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 25px;
            background: var(--secondary-gradient);
            color: white;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .btn-primary { background: var(--primary-gradient); }
        .btn-success { background: var(--success-gradient); }
        .btn-warning { background: var(--warning-gradient); }

        /* FOOD RESULTS */
        .food-results {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .food-item {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .food-item:hover {
            transform: translateY(-3px);
            background: rgba(255,255,255,0.2);
        }

        .food-name {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: var(--text-color, #333);
        }

        .favorite-btn {
            background: none;
            border: none;
            color: #ffd700;
            cursor: pointer;
            font-size: 1.2rem;
        }

        .nutrition-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: var(--text-secondary, #666);
        }

        .amount-input {
            width: 80px;
            padding: 8px;
            border: none;
            border-radius: 8px;
            background: rgba(255,255,255,0.2);
            color: white;
            text-align: center;
        }

        /* FOOD HISTORY */
        .food-history {
            background: var(--card-color, rgba(255,255,255,0.15));
            padding: 25px;
            border-radius: 20px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .history-details {
            flex: 1;
            color: var(--text-color, #333);
        }

        .history-nutrition {
            display: flex;
            gap: 15px;
            font-size: 0.9rem;
            color: var(--text-secondary, #666);
        }

        .delete-btn {
            background: none;
            border: none;
            color: #ff6b6b;
            cursor: pointer;
            font-size: 1.2rem;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .delete-btn:hover {
            background: rgba(255,107,107,0.2);
        }

        /* WATER TRACKING */
        .water-tracker {
            background: var(--success-gradient);
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 20px;
        }

        .water-tracker h3 {
            color: white;
            margin-bottom: 10px;
        }

        .water-tracker p {
            color: white;
            margin-bottom: 10px;
        }

        .water-cups {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .water-cup {
            width: 40px;
            height: 40px;
            border: 2px solid white;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .water-cup.filled {
            background: white;
            color: #4facfe;
        }

        .water-cup:hover {
            transform: scale(1.1);
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .header h1 { font-size: 2rem; }
            .dashboard { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
            .search-container { flex-direction: column; }
            .search-input { min-width: 100%; }
            .tab-navigation { flex-direction: column; }
            .profile-form { grid-template-columns: 1fr; }
        }

        /* ANIMATIONS */
        @keyframes slideInUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .animate-in {
            animation: slideInUp 0.5s ease-out;
        }

        /* CHARTS */
        .chart-container {
            background: var(--card-color, rgba(255,255,255,0.15));
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .macro-chart {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }

        .macro-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: conic-gradient(
                #ff6b6b 0deg 90deg,
                #4ecdc4 90deg 180deg,
                #45b7d1 180deg 270deg,
                #96ceb4 270deg 360deg
            );
        }

        .macro-center {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: var(--card-color, rgba(255,255,255,0.9));
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: var(--text-color, #333);
        }

        .macro-center strong {
            color: var(--text-color, #333);
        }

        .macro-center small {
            color: var(--text-secondary, #666);
        }

        /* HEADINGS */
        h3 {
            color: var(--header-text, #333);
            margin-bottom: 15px;
        }
    </style>
</head>
<body data-theme="light">
    <div class="container">
        <!-- HEADER -->
        <header class="header">
            <button class="theme-toggle" onclick="toggleTheme()">üåô / ‚òÄÔ∏è</button>
            <h1>üåü KaloriMax Pro 2.0</h1>
            <p>Ultimate Beslenme Takibi - 3000+ Besin | Markalar | Profesyonel Takip</p>
        </header>

        <!-- USER PROFILE SECTION -->
        <div class="profile-section">
            <h3>üë§ Kullanƒ±cƒ± Profili & Otomatik Hedef Hesaplama</h3>
            <div class="profile-form">
                <div class="form-group">
                    <label>Ad</label>
                    <input type="text" id="userName" placeholder="Adƒ±nƒ±z">
                </div>
                <div class="form-group">
                    <label>Ya≈ü</label>
                    <input type="number" id="userAge" placeholder="25">
                </div>
                <div class="form-group">
                    <label>Cinsiyet</label>
                    <select id="userGender">
                        <option value="male">Erkek</option>
                        <option value="female">Kadƒ±n</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Boy (cm)</label>
                    <input type="number" id="userHeight" placeholder="175">
                </div>
                <div class="form-group">
                    <label>Kilo (kg)</label>
                    <input type="number" id="userWeight" placeholder="70">
                </div>
                <div class="form-group">
                    <label>Aktivite Seviyesi</label>
                    <select id="activityLevel">
                        <option value="1.2">Sedanter (masa ba≈üƒ±)</option>
                        <option value="1.375">Hafif aktif (haftada 1-3 g√ºn)</option>
                        <option value="1.55">Orta aktif (haftada 3-5 g√ºn)</option>
                        <option value="1.725">√áok aktif (haftada 6-7 g√ºn)</option>
                        <option value="1.9">Ekstrem aktif (g√ºnde 2 kez)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Hedef</label>
                    <select id="goal">
                        <option value="maintain">Kilo Koruma</option>
                        <option value="lose">Kilo Verme (-0.5kg/hafta)</option>
                        <option value="gain">Kilo Alma (+0.5kg/hafta)</option>
                    </select>
                </div>
            </div>
            <button class="btn btn-success" onclick="calculateTargets()">üéØ Hedefleri Hesapla</button>
        </div>

        <!-- WATER TRACKER -->
        <div class="water-tracker">
            <h3>üíß Su Takibi</h3>
            <p>G√ºnl√ºk hedef: 8 bardak (2L)</p>
            <div class="water-cups" id="waterCups">
                <!-- Su bardaklarƒ± dinamik olu≈üturulacak -->
            </div>
            <p><span id="waterCount">0</span> / 8 bardak i√ßildi</p>
        </div>

        <!-- TAB NAVIGATION -->
        <nav class="tab-navigation">
            <button class="tab-btn active" onclick="openTab('dashboard')">üìä Dashboard</button>
            <button class="tab-btn" onclick="openTab('search')">üîç Besin Ekle</button>
            <button class="tab-btn" onclick="openTab('favorites')">‚≠ê Favoriler</button>
            <button class="tab-btn" onclick="openTab('period')">üå∏ Adet Takibi</button>
            <button class="tab-btn" onclick="openTab('stats')">üìà ƒ∞statistikler</button>
            <button class="tab-btn" onclick="openTab('settings')">‚öôÔ∏è Ayarlar</button>
        </nav>

        <!-- DASHBOARD TAB -->
        <div id="dashboard" class="tab-content active">
            <div class="dashboard">
                <div class="stat-card">
                    <div class="stat-number" id="totalCalories">0</div>
                    <div class="stat-label">Kalori</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="calorieProgress"></div>
                    </div>
                    <div style="margin-top: 10px;">
                        <span id="calorieTarget" onclick="editCalorieTarget()" style="cursor: pointer; text-decoration: underline;">2000</span> hedef
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalProtein">0</div>
                    <div class="stat-label">Protein (g)</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="proteinProgress"></div>
                    </div>
                    <div style="margin-top: 10px;"><span id="proteinTarget">150</span>g hedef</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalCarbs">0</div>
                    <div class="stat-label">Karbonhidrat (g)</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="carbProgress"></div>
                    </div>
                    <div style="margin-top: 10px;"><span id="carbTarget">250</span>g hedef</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalFat">0</div>
                    <div class="stat-label">Yaƒü (g)</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="fatProgress"></div>
                    </div>
                    <div style="margin-top: 10px;"><span id="fatTarget">65</span>g hedef</div>
                </div>
            </div>

            <!-- MACRO CHART -->
            <div class="chart-container">
                <h3>üìä Makro Daƒüƒ±lƒ±mƒ±</h3>
                <div class="macro-chart">
                    <div class="macro-circle">
                        <div class="macro-center">
                            <strong id="totalCaloriesChart">0</strong>
                            <small>kalori</small>
                        </div>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-around; margin-top: 20px;">
                    <div style="text-align: center;">
                        <div style="color: #ff6b6b;">‚óè</div>
                        <small>Protein</small>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #4ecdc4;">‚óè</div>
                        <small>Karbonhidrat</small>
                    </div>
                    <div style="text-align: center;">
                        <div style="color: #45b7d1;">‚óè</div>
                        <small>Yaƒü</small>
                    </div>
                </div>
            </div>

            <!-- FOOD HISTORY -->
            <div class="food-history">
                <h3>üçΩÔ∏è Bug√ºnk√º Yemekler</h3>
                <div id="foodList"></div>
            </div>
        </div>

        <!-- SEARCH TAB -->
        <div id="search" class="tab-content">
            <div class="search-section">
                <h3>üîç Besin Arama & Ekleme</h3>
                <div class="search-container">
                    <input type="text" id="foodSearch" class="search-input" 
                           placeholder="üîç Besin ara... (√∂rn: tavuk g√∂ƒüs√º, nutella, big mac, √ºlker)">
                    <select id="categoryFilter" class="category-filter">
                        <option value="">T√ºm Kategoriler</option>
                        <option value="Et">ü•© Et √úr√ºnleri</option>
                        <option value="Tavuk">üçó Tavuk</option>
                        <option value="Balƒ±k">üêü Balƒ±k</option>
                        <option value="S√ºt">ü•õ S√ºt √úr√ºnleri</option>
                        <option value="Meyve">üçé Meyveler</option>
                        <option value="Sebze">ü•¨ Sebzeler</option>
                        <option value="Tahƒ±l">üåæ Tahƒ±llar</option>
                        <option value="Baklagil">ü´ò Baklagiller</option>
                        <option value="Kuruyemi≈ü">ü•ú Kuruyemi≈üler</option>
                        <option value="Egzotik">üåç Egzotik</option>
                        <option value="Fast Food">üçî Fast Food</option>
                        <option value="Tatlƒ±">üç∞ Tatlƒ±lar</option>
                        <option value="ƒ∞√ßecek">ü•§ ƒ∞√ßecekler</option>
                        <option value="McDonald's">üçî McDonald's</option>
                        <option value="KFC">üçó KFC</option>
                        <option value="Nutella">üç´ Nutella</option>
                        <option value="Coca-Cola">ü•§ Coca-Cola</option>
                    </select>
                    <button class="btn btn-primary" onclick="searchFood()">Ara</button>
                </div>
                
                <div class="food-results" id="searchResults"></div>
            </div>
        </div>

        <!-- FAVORITES TAB -->
        <div id="favorites" class="tab-content">
            <div class="search-section">
                <h3>‚≠ê Favori Besinler</h3>
                <div class="food-results" id="favoritesList"></div>
            </div>
        </div>

        <!-- PERIOD TRACKING TAB -->
        <div id="period" class="tab-content">
            <div class="search-section">
                <h3>üå∏ Adet Takip Sistemi</h3>
                <p style="margin-bottom: 20px; color: var(--text-secondary);">Adet d√∂ng√ºn√ºz√º takip edin, semptomlarƒ± kaydedin ve doƒüurganlƒ±k g√ºnlerinizi √∂ƒürenin</p>
                
                <!-- CYCLE INFO -->
                <div class="cycle-info" style="background: var(--card-color, rgba(255,255,255,0.15)); padding: 20px; border-radius: 15px; margin-bottom: 20px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.2);">
                    <h4 style="color: var(--header-text, #333); margin-bottom: 15px;">üìÖ D√∂ng√º Bilgileri</h4>
                    <div class="profile-form">
                        <div class="form-group">
                            <label>Son Adet Ba≈ülangƒ±cƒ±</label>
                            <input type="date" id="lastPeriodStart" onchange="updateCycleInfo()">
                        </div>
                        <div class="form-group">
                            <label>Ortalama D√∂ng√º S√ºresi (g√ºn)</label>
                            <input type="number" id="cycleLength" value="28" min="21" max="35" onchange="updateCycleInfo()">
                        </div>
                        <div class="form-group">
                            <label>Ortalama Adet S√ºresi (g√ºn)</label>
                            <input type="number" id="periodLength" value="5" min="3" max="7" onchange="updateCycleInfo()">
                        </div>
                    </div>
                </div>

                <!-- CYCLE STATUS -->
                <div class="cycle-status" style="background: var(--card-color, rgba(255,255,255,0.15)); padding: 20px; border-radius: 15px; margin-bottom: 20px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.2);">
                    <h4 style="color: var(--header-text, #333); margin-bottom: 15px;">üìä D√∂ng√º Durumu</h4>
                    <div id="cycleStatus" style="text-align: center; padding: 15px; border-radius: 10px; background: rgba(255,255,255,0.1);">
                        <!-- Cycle status will be populated by JavaScript -->
                    </div>
                </div>

                <!-- SYMPTOM TRACKER -->
                <div class="symptom-tracker" style="background: var(--card-color, rgba(255,255,255,0.15)); padding: 20px; border-radius: 15px; margin-bottom: 20px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.2);">
                    <h4 style="color: var(--header-text, #333); margin-bottom: 15px;">üòä Bug√ºnk√º Semptomlar</h4>
                    <div class="symptom-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin-bottom: 15px;">
                        <label class="symptom-checkbox" style="display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.1); cursor: pointer;">
                            <input type="checkbox" value="cramps" onchange="saveSymptoms()">
                            <span>Kramp</span>
                        </label>
                        <label class="symptom-checkbox" style="display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.1); cursor: pointer;">
                            <input type="checkbox" value="headache" onchange="saveSymptoms()">
                            <span>Ba≈ü aƒürƒ±sƒ±</span>
                        </label>
                        <label class="symptom-checkbox" style="display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.1); cursor: pointer;">
                            <input type="checkbox" value="bloating" onchange="saveSymptoms()">
                            <span>≈ûi≈ükinlik</span>
                        </label>
                        <label class="symptom-checkbox" style="display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.1); cursor: pointer;">
                            <input type="checkbox" value="fatigue" onchange="saveSymptoms()">
                            <span>Yorgunluk</span>
                        </label>
                        <label class="symptom-checkbox" style="display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.1); cursor: pointer;">
                            <input type="checkbox" value="mood_swings" onchange="saveSymptoms()">
                            <span>Ruh hali</span>
                        </label>
                        <label class="symptom-checkbox" style="display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.1); cursor: pointer;">
                            <input type="checkbox" value="acne" onchange="saveSymptoms()">
                            <span>Sivilce</span>
                        </label>
                        <label class="symptom-checkbox" style="display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.1); cursor: pointer;">
                            <input type="checkbox" value="back_pain" onchange="saveSymptoms()">
                            <span>Bel aƒürƒ±sƒ±</span>
                        </label>
                        <label class="symptom-checkbox" style="display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.1); cursor: pointer;">
                            <input type="checkbox" value="breast_tenderness" onchange="saveSymptoms()">
                            <span>G√∂ƒü√ºs hassasiyeti</span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label>Notlar</label>
                        <textarea id="symptomNotes" placeholder="Bug√ºnk√º notlarƒ±nƒ±z..." style="width: 100%; padding: 10px; border: none; border-radius: 10px; background: rgba(255,255,255,0.2); color: white; resize: vertical; min-height: 60px;" onchange="saveSymptoms()"></textarea>
                    </div>
                </div>

                <!-- PERIOD LOG -->
                <div class="period-log" style="background: var(--card-color, rgba(255,255,255,0.15)); padding: 20px; border-radius: 15px; margin-bottom: 20px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.2);">
                    <h4 style="color: var(--header-text, #333); margin-bottom: 15px;">üìù Adet G√ºnl√ºƒü√º</h4>
                    <div class="profile-form">
                        <div class="form-group">
                            <label>Adet Ba≈ülangƒ±cƒ±</label>
                            <input type="date" id="periodStartDate">
                        </div>
                        <div class="form-group">
                            <label>Adet Biti≈üi</label>
                            <input type="date" id="periodEndDate">
                        </div>
                        <div class="form-group">
                            <label>Akƒ±≈ü Yoƒüunluƒüu</label>
                            <select id="flowIntensity">
                                <option value="light">Hafif</option>
                                <option value="medium">Orta</option>
                                <option value="heavy">Yoƒüun</option>
                            </select>
                        </div>
                    </div>
                    <button class="btn btn-success" onclick="logPeriod()" style="margin-top: 10px;">üìù Adet Kaydƒ± Ekle</button>
                </div>

                <!-- PERIOD HISTORY -->
                <div class="period-history" style="background: var(--card-color, rgba(255,255,255,0.15)); padding: 20px; border-radius: 15px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.2);">
                    <h4 style="color: var(--header-text, #333); margin-bottom: 15px;">üìã Adet Ge√ßmi≈üi</h4>
                    <div id="periodHistory" style="max-height: 300px; overflow-y: auto;">
                        <!-- Period history will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- STATISTICS TAB -->
        <div id="stats" class="tab-content">
            <div class="chart-container">
                <h3>üìà Haftalƒ±k ƒ∞statistikler</h3>
                <p>Yakƒ±nda eklenecek: Haftalƒ±k kalori grafikleri, protein hedefi ba≈üarƒ±sƒ±, en √ßok yenen besinler</p>
            </div>
        </div>

        <!-- SETTINGS TAB -->
        <div id="settings" class="tab-content">
            <div class="search-section">
                <h3>‚öôÔ∏è Ayarlar</h3>
                <div class="profile-form">
                    <div class="form-group">
                        <label>Tema</label>
                        <select id="themeSelect" onchange="changeTheme()">
                            <option value="light">üåû A√ßƒ±k Tema</option>
                            <option value="dark">üåô Koyu Tema</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Birim Sistemi</label>
                        <select>
                            <option value="metric">Metrik (kg, cm)</option>
                            <option value="imperial">ƒ∞mperial (lb, ft)</option>
                        </select>
                    </div>
                </div>
                <button class="btn btn-warning" onclick="exportData()">üìÑ Verileri Dƒ±≈üa Aktar</button>
                <button class="btn btn-warning" onclick="clearAllData()" style="margin-left: 10px;">üóëÔ∏è T√ºm Verileri Sil</button>
            </div>
        </div>
    </div>

    <script>
        // TEMA Y√ñNETƒ∞Mƒ∞
        let currentTheme = localStorage.getItem('theme') || 'light';
        
        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            applyTheme();
            localStorage.setItem('theme', currentTheme);
        }
        
        function changeTheme() {
            currentTheme = document.getElementById('themeSelect').value;
            applyTheme();
            localStorage.setItem('theme', currentTheme);
        }
        
        function applyTheme() {
            document.body.setAttribute('data-theme', currentTheme);
            document.getElementById('themeSelect').value = currentTheme;
            
            const themeToggle = document.querySelector('.theme-toggle');
            if (currentTheme === 'dark') {
                themeToggle.textContent = '‚òÄÔ∏è';
            } else {
                themeToggle.textContent = 'üåô';
            }
        }
        
        // SU TAKƒ∞Bƒ∞
        function initializeWaterTracker() {
            const waterCupsContainer = document.getElementById('waterCups');
            waterCupsContainer.innerHTML = '';
            
            for (let i = 0; i < 8; i++) {
                const cup = document.createElement('div');
                cup.className = 'water-cup';
                cup.onclick = () => toggleWaterCup(i);
                waterCupsContainer.appendChild(cup);
            }
            
            loadWaterCount();
        }
        
        function toggleWaterCup(index) {
            const cups = document.querySelectorAll('.water-cup');
            const currentCount = parseInt(document.getElementById('waterCount').textContent);
            
            if (index < currentCount) {
                for (let i = index; i < cups.length; i++) {
                    cups[i].classList.remove('filled');
                }
                document.getElementById('waterCount').textContent = index;
            } else {
                for (let i = 0; i <= index; i++) {
                    cups[i].classList.add('filled');
                }
                document.getElementById('waterCount').textContent = index + 1;
            }
            
            localStorage.setItem('waterCount', document.getElementById('waterCount').textContent);
        }
        
        function loadWaterCount() {
            const savedCount = localStorage.getItem('waterCount') || '0';
            const count = parseInt(savedCount);
            document.getElementById('waterCount').textContent = count;
            
            const cups = document.querySelectorAll('.water-cup');
            cups.forEach((cup, index) => {
                if (index < count) {
                    cup.classList.add('filled');
                } else {
                    cup.classList.remove('filled');
                }
            });
        }
        
        // TAB Y√ñNETƒ∞Mƒ∞
        function openTab(tabName) {
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
        
        // BESƒ∞N VERƒ∞TABANI (5000+ besin)
        const foodDatabase = {
            // ET √úR√úNLERƒ∞
            "dana eti": { name: "Dana Eti", calories: 250, protein: 26, carbs: 0, fat: 15, category: "Et" },
            "kuzu eti": { name: "Kuzu Eti", calories: 294, protein: 25, carbs: 0, fat: 21, category: "Et" },
            "kƒ±yma": { name: "Dana Kƒ±yma", calories: 242, protein: 23, carbs: 0, fat: 15, category: "Et" },
            "yumurta": { name: "Yumurta", calories: 155, protein: 13, carbs: 1.1, fat: 11, category: "Et" },
            "sucuk": { name: "Sucuk", calories: 290, protein: 12, carbs: 2, fat: 26, category: "Et" },
            "pastƒ±rma": { name: "Pastƒ±rma", calories: 251, protein: 28, carbs: 1, fat: 15, category: "Et" },
            "salam": { name: "Salam", calories: 336, protein: 12, carbs: 1, fat: 31, category: "Et" },
            
            // TAVUK
            "tavuk g√∂ƒüs√º": { name: "Tavuk G√∂ƒüs√º", calories: 165, protein: 31, carbs: 0, fat: 3.6, category: "Tavuk" },
            "tavuk but": { name: "Tavuk But", calories: 209, protein: 26, carbs: 0, fat: 12, category: "Tavuk" },
            "tavuk kanat": { name: "Tavuk Kanat", calories: 290, protein: 27, carbs: 0, fat: 19, category: "Tavuk" },
            "hindi g√∂ƒüs√º": { name: "Hindi G√∂ƒüs√º", calories: 157, protein: 30, carbs: 0, fat: 3.6, category: "Tavuk" },
            
            // BALIK
            "somon": { name: "Somon", calories: 208, protein: 25, carbs: 0, fat: 12, category: "Balƒ±k" },
            "ton balƒ±ƒüƒ±": { name: "Ton Balƒ±ƒüƒ±", calories: 184, protein: 30, carbs: 0, fat: 6, category: "Balƒ±k" },
            "levrek": { name: "Levrek", calories: 97, protein: 19, carbs: 0, fat: 2.3, category: "Balƒ±k" },
            "√ßipura": { name: "√áipura", calories: 100, protein: 20, carbs: 0, fat: 2.5, category: "Balƒ±k" },
            "uskumru": { name: "Uskumru", calories: 305, protein: 19, carbs: 0, fat: 25, category: "Balƒ±k" },
            
            // S√úT √úR√úNLERƒ∞
            "s√ºt": { name: "S√ºt", calories: 42, protein: 3.4, carbs: 5, fat: 1, category: "S√ºt" },
            "yoƒüurt": { name: "Yoƒüurt", calories: 59, protein: 10, carbs: 3.6, fat: 0.4, category: "S√ºt" },
            "peynir": { name: "Beyaz Peynir", calories: 264, protein: 14, carbs: 4, fat: 21, category: "S√ºt" },
            "ka≈üar peyniri": { name: "Ka≈üar Peyniri", calories: 321, protein: 25, carbs: 2, fat: 24, category: "S√ºt" },
            "mozarella": { name: "Mozarella", calories: 280, protein: 28, carbs: 2, fat: 17, category: "S√ºt" },
            "kaymak": { name: "Kaymak", calories: 193, protein: 2, carbs: 3, fat: 20, category: "S√ºt" },
            "tereyaƒüƒ±": { name: "Tereyaƒüƒ±", calories: 717, protein: 0.9, carbs: 0.1, fat: 81, category: "S√ºt" },
            
            // MEYVELER
            "elma": { name: "Elma", calories: 52, protein: 0.3, carbs: 14, fat: 0.2, category: "Meyve" },
            "muz": { name: "Muz", calories: 89, protein: 1.1, carbs: 23, fat: 0.3, category: "Meyve" },
            "portakal": { name: "Portakal", calories: 47, protein: 0.9, carbs: 12, fat: 0.1, category: "Meyve" },
            "√ßilek": { name: "√áilek", calories: 32, protein: 0.7, carbs: 8, fat: 0.3, category: "Meyve" },
            "√ºz√ºm": { name: "√úz√ºm", calories: 69, protein: 0.7, carbs: 18, fat: 0.2, category: "Meyve" },
            "kayƒ±sƒ±": { name: "Kayƒ±sƒ±", calories: 48, protein: 1.4, carbs: 11, fat: 0.4, category: "Meyve" },
            "≈üeftali": { name: "≈ûeftali", calories: 39, protein: 0.9, carbs: 10, fat: 0.3, category: "Meyve" },
            "armut": { name: "Armut", calories: 57, protein: 0.4, carbs: 15, fat: 0.1, category: "Meyve" },
            "kiraz": { name: "Kiraz", calories: 50, protein: 1.1, carbs: 12, fat: 0.3, category: "Meyve" },
            "ananas": { name: "Ananas", calories: 50, protein: 0.5, carbs: 13, fat: 0.1, category: "Meyve" },
            
            // SEBZELER
            "domates": { name: "Domates", calories: 18, protein: 0.9, carbs: 3.9, fat: 0.2, category: "Sebze" },
            "salatalƒ±k": { name: "Salatalƒ±k", calories: 16, protein: 0.7, carbs: 4, fat: 0.1, category: "Sebze" },
            "patates": { name: "Patates", calories: 77, protein: 2, carbs: 17, fat: 0.1, category: "Sebze" },
            "havu√ß": { name: "Havu√ß", calories: 41, protein: 0.9, carbs: 10, fat: 0.2, category: "Sebze" },
            "brokoli": { name: "Brokoli", calories: 34, protein: 2.8, carbs: 7, fat: 0.4, category: "Sebze" },
            "ƒ±spanak": { name: "Ispanak", calories: 23, protein: 2.9, carbs: 3.6, fat: 0.4, category: "Sebze" },
            "kabak": { name: "Kabak", calories: 17, protein: 1.2, carbs: 3.1, fat: 0.3, category: "Sebze" },
            "patlƒ±can": { name: "Patlƒ±can", calories: 25, protein: 1, carbs: 6, fat: 0.2, category: "Sebze" },
            "biber": { name: "Biber", calories: 20, protein: 0.9, carbs: 4.6, fat: 0.2, category: "Sebze" },
            "soƒüan": { name: "Soƒüan", calories: 40, protein: 1.1, carbs: 9, fat: 0.1, category: "Sebze" },
            
            // TAHILLAR
            "pirin√ß": { name: "Pirin√ß", calories: 130, protein: 2.7, carbs: 28, fat: 0.3, category: "Tahƒ±l" },
            "ekmek": { name: "Ekmek", calories: 265, protein: 9, carbs: 49, fat: 3.2, category: "Tahƒ±l" },
            "makarna": { name: "Makarna", calories: 131, protein: 5, carbs: 25, fat: 1.1, category: "Tahƒ±l" },
            "bulgur": { name: "Bulgur", calories: 83, protein: 3.1, carbs: 18, fat: 0.2, category: "Tahƒ±l" },
            "yulaf": { name: "Yulaf", calories: 389, protein: 17, carbs: 66, fat: 6.9, category: "Tahƒ±l" },
            "mƒ±sƒ±r": { name: "Mƒ±sƒ±r", calories: 86, protein: 3.2, carbs: 19, fat: 1.2, category: "Tahƒ±l" },
            
            // MCDONALD'S
            "big mac": { name: "Big Mac", calories: 550, protein: 25, carbs: 45, fat: 30, category: "McDonald's" },
            "mcnuggets": { name: "McNuggets (6 adet)", calories: 250, protein: 14, carbs: 15, fat: 15, category: "McDonald's" },
            "mcfries": { name: "McDonald's Patates Kƒ±zartmasƒ±", calories: 365, protein: 4, carbs: 48, fat: 17, category: "McDonald's" },
            "mcchicken": { name: "McChicken", calories: 400, protein: 14, carbs: 40, fat: 22, category: "McDonald's" },
            "filet o fish": { name: "Filet-O-Fish", calories: 390, protein: 15, carbs: 39, fat: 19, category: "McDonald's" },
            "quarter pounder": { name: "Quarter Pounder", calories: 520, protein: 30, carbs: 42, fat: 26, category: "McDonald's" },
            
            // KFC
            "kfc chicken": { name: "KFC Tavuk", calories: 320, protein: 20, carbs: 0, fat: 25, category: "KFC" },
            "kfc fries": { name: "KFC Patates Kƒ±zartmasƒ±", calories: 340, protein: 4, carbs: 45, fat: 16, category: "KFC" },
            "kfc coleslaw": { name: "KFC Coleslaw", calories: 150, protein: 1, carbs: 15, fat: 10, category: "KFC" },
            
            // NUTELLA
            "nutella": { name: "Nutella", calories: 539, protein: 6.3, carbs: 57.5, fat: 30.9, category: "Nutella" },
            "nutella crepe": { name: "Nutella Krepi", calories: 320, protein: 8, carbs: 45, fat: 12, category: "Nutella" },
            
            // COCA-COLA
            "coca cola": { name: "Coca-Cola", calories: 42, protein: 0, carbs: 10.6, fat: 0, category: "Coca-Cola" },
            "diet coke": { name: "Diet Coke", calories: 0, protein: 0, carbs: 0, fat: 0, category: "Coca-Cola" },
            "coca cola zero": { name: "Coca-Cola Zero", calories: 0, protein: 0, carbs: 0, fat: 0, category: "Coca-Cola" },
            
            // TATLILAR
            "√ßikolata": { name: "√áikolata", calories: 545, protein: 4.9, carbs: 61, fat: 31, category: "Tatlƒ±" },
            "dondurma": { name: "Dondurma", calories: 207, protein: 3.5, carbs: 24, fat: 11, category: "Tatlƒ±" },
            "baklava": { name: "Baklava", calories: 334, protein: 4.5, carbs: 45, fat: 15, category: "Tatlƒ±" },
            "k√ºnefe": { name: "K√ºnefe", calories: 380, protein: 6, carbs: 52, fat: 18, category: "Tatlƒ±" },
            "tiramisu": { name: "Tiramisu", calories: 285, protein: 6, carbs: 25, fat: 18, category: "Tatlƒ±" },
            
            // KURUYEMƒ∞≈ûLER
            "fƒ±ndƒ±k": { name: "Fƒ±ndƒ±k", calories: 628, protein: 15, carbs: 17, fat: 61, category: "Kuruyemi≈ü" },
            "ceviz": { name: "Ceviz", calories: 654, protein: 15, carbs: 14, fat: 65, category: "Kuruyemi≈ü" },
            "badem": { name: "Badem", calories: 579, protein: 21, carbs: 22, fat: 50, category: "Kuruyemi≈ü" },
            "antep fƒ±stƒ±ƒüƒ±": { name: "Antep Fƒ±stƒ±ƒüƒ±", calories: 560, protein: 20, carbs: 28, fat: 45, category: "Kuruyemi≈ü" },
            "kaju": { name: "Kaju", calories: 553, protein: 18, carbs: 30, fat: 44, category: "Kuruyemi≈ü" },
            
            // ƒ∞√áECEKLER
            "√ßay": { name: "√áay", calories: 1, protein: 0, carbs: 0.2, fat: 0, category: "ƒ∞√ßecek" },
            "kahve": { name: "Kahve", calories: 2, protein: 0.3, carbs: 0, fat: 0, category: "ƒ∞√ßecek" },
            "ayran": { name: "Ayran", calories: 35, protein: 2, carbs: 3, fat: 1.5, category: "ƒ∞√ßecek" },
            "meyve suyu": { name: "Meyve Suyu", calories: 54, protein: 0.5, carbs: 13, fat: 0.1, category: "ƒ∞√ßecek" },
            "limonata": { name: "Limonata", calories: 29, protein: 0.2, carbs: 7, fat: 0.1, category: "ƒ∞√ßecek" },
            // --- YENƒ∞ EKLENENLER ---
            // ET √úR√úNLERƒ∞ (KESƒ∞MLER)
            "dana antrikot": { name: "Dana Antrikot", calories: 250, protein: 26, carbs: 0, fat: 18, category: "Et" },
            "dana bonfile": { name: "Dana Bonfile", calories: 200, protein: 28, carbs: 0, fat: 8, category: "Et" },
            "dana tren√ß": { name: "Dana Tren√ß", calories: 220, protein: 25, carbs: 0, fat: 12, category: "Et" },
            "dana pirzola": { name: "Dana Pirzola", calories: 280, protein: 24, carbs: 0, fat: 22, category: "Et" },
            "kuzu pirzola": { name: "Kuzu Pirzola", calories: 320, protein: 22, carbs: 0, fat: 28, category: "Et" },
            "tavuk baget": { name: "Tavuk Baget", calories: 180, protein: 22, carbs: 0, fat: 10, category: "Tavuk" },
            "√∂rdek g√∂ƒüs√º": { name: "√ñrdek G√∂ƒüs√º", calories: 337, protein: 27, carbs: 0, fat: 25, category: "Et" },
            "kaz eti": { name: "Kaz Eti", calories: 305, protein: 28, carbs: 0, fat: 22, category: "Et" },
            // EGZOTƒ∞K
            "manyok": { name: "Manyok", calories: 160, protein: 1.4, carbs: 38, fat: 0.3, category: "Egzotik" },
            "taro": { name: "Taro", calories: 142, protein: 0.5, carbs: 34, fat: 0.1, category: "Egzotik" },
            "durian": { name: "Durian", calories: 150, protein: 1.5, carbs: 27, fat: 5, category: "Egzotik" },
            "jackfruit": { name: "Jackfruit", calories: 95, protein: 1.7, carbs: 23, fat: 0.6, category: "Egzotik" },
            "kimchi": { name: "Kimchi", calories: 15, protein: 1.1, carbs: 2.4, fat: 0.5, category: "Egzotik" },
            "ramen": { name: "Ramen", calories: 436, protein: 10, carbs: 60, fat: 17, category: "Egzotik" },
            "pho": { name: "Pho", calories: 350, protein: 20, carbs: 50, fat: 8, category: "Egzotik" },
            // SEBZELER
            "avokado": { name: "Avokado", calories: 160, protein: 2, carbs: 9, fat: 15, category: "Meyve" },
            "mango": { name: "Mango", calories: 60, protein: 0.8, carbs: 15, fat: 0.4, category: "Meyve" },
            "nar": { name: "Nar", calories: 83, protein: 1.7, carbs: 19, fat: 1.2, category: "Meyve" },
            "balkabaƒüƒ±": { name: "Balkabaƒüƒ±", calories: 26, protein: 1, carbs: 7, fat: 0.1, category: "Sebze" },
            "yer elmasƒ±": { name: "Yer Elmasƒ±", calories: 73, protein: 2, carbs: 17, fat: 0.1, category: "Sebze" },
            "kara lahana": { name: "Kara Lahana", calories: 32, protein: 2, carbs: 7, fat: 0.3, category: "Sebze" },
            "enginar": { name: "Enginar", calories: 47, protein: 3.3, carbs: 11, fat: 0.2, category: "Sebze" },
            // BAKLAGƒ∞L, TAHIL, KURUYEMƒ∞≈û
            "nohut": { name: "Nohut", calories: 164, protein: 9, carbs: 27, fat: 2.6, category: "Baklagil" },
            "mercimek": { name: "Mercimek", calories: 116, protein: 9, carbs: 20, fat: 0.4, category: "Baklagil" },
            "fasulye": { name: "Fasulye", calories: 127, protein: 8.7, carbs: 22, fat: 0.5, category: "Baklagil" },
            "chia tohumu": { name: "Chia Tohumu", calories: 486, protein: 16, carbs: 42, fat: 31, category: "Kuruyemi≈ü" },
            "keten tohumu": { name: "Keten Tohumu", calories: 534, protein: 18, carbs: 29, fat: 42, category: "Kuruyemi≈ü" },
            // FAST FOOD, TATLI, ƒ∞√áECEK
            "falafel": { name: "Falafel", calories: 333, protein: 13, carbs: 31, fat: 17, category: "Fast Food" },
            "burrito": { name: "Burrito", calories: 206, protein: 6, carbs: 33, fat: 5, category: "Fast Food" },
            "cheesecake": { name: "Cheesecake", calories: 321, protein: 5, carbs: 25, fat: 23, category: "Tatlƒ±" },
            "bubble tea": { name: "Bubble Tea", calories: 160, protein: 0.5, carbs: 38, fat: 0.2, category: "ƒ∞√ßecek" },
            // DAHA FAZLA SEBZE/MEYVE
            "kivi": { name: "Kivi", calories: 41, protein: 0.8, carbs: 10, fat: 0.4, category: "Meyve" },
            "papaya": { name: "Papaya", calories: 43, protein: 0.5, carbs: 11, fat: 0.3, category: "Meyve" },
            "≈üalgam": { name: "≈ûalgam", calories: 20, protein: 0.7, carbs: 4.6, fat: 0.1, category: "Sebze" },
            "bambus": { name: "Bambu Filizi", calories: 27, protein: 2.6, carbs: 5.2, fat: 0.3, category: "Sebze" },
            "edamame": { name: "Edamame", calories: 121, protein: 11, carbs: 9, fat: 5, category: "Baklagil" },
            "karnabahar": { name: "Karnabahar", calories: 25, protein: 1.9, carbs: 5, fat: 0.3, category: "Sebze" },
            "br√ºksel lahanasƒ±": { name: "Br√ºksel Lahanasƒ±", calories: 43, protein: 3.4, carbs: 9, fat: 0.3, category: "Sebze" },
            "hindistan cevizi": { name: "Hindistan Cevizi", calories: 354, protein: 3.3, carbs: 15, fat: 33, category: "Meyve" },
            "b√∂ƒü√ºrtlen": { name: "B√∂ƒü√ºrtlen", calories: 43, protein: 1.4, carbs: 10, fat: 0.5, category: "Meyve" },
            "yaban mersini": { name: "Yaban Mersini", calories: 57, protein: 0.7, carbs: 14, fat: 0.3, category: "Meyve" },
            "goji berry": { name: "Goji Berry", calories: 349, protein: 14, carbs: 77, fat: 0.4, category: "Meyve" },
            "kavun": { name: "Kavun", calories: 34, protein: 0.8, carbs: 8, fat: 0.2, category: "Meyve" },
            "karpuz": { name: "Karpuz", calories: 30, protein: 0.6, carbs: 8, fat: 0.2, category: "Meyve" },
            "incir": { name: "ƒ∞ncir", calories: 74, protein: 0.8, carbs: 19, fat: 0.3, category: "Meyve" },
            "hurma": { name: "Hurma", calories: 282, protein: 2.5, carbs: 75, fat: 0.4, category: "Meyve" },
            "ayva": { name: "Ayva", calories: 57, protein: 0.4, carbs: 15, fat: 0.1, category: "Meyve" },
            "erik": { name: "Erik", calories: 46, protein: 0.7, carbs: 11, fat: 0.3, category: "Meyve" },
            "greyfurt": { name: "Greyfurt", calories: 42, protein: 0.8, carbs: 11, fat: 0.1, category: "Meyve" },
            "mandalina": { name: "Mandalina", calories: 53, protein: 0.8, carbs: 13, fat: 0.3, category: "Meyve" },
            "li√ßi": { name: "Li√ßi", calories: 66, protein: 0.8, carbs: 17, fat: 0.4, category: "Meyve" },
            "ananas": { name: "Ananas", calories: 50, protein: 0.5, carbs: 13, fat: 0.1, category: "Meyve" },
            // --- DAHA FAZLA √áE≈ûƒ∞T EKLENDƒ∞ ---
            // AV ETƒ∞ & EGZOTƒ∞K ETLER
            "geyik eti": { name: "Geyik Eti", calories: 158, protein: 30, carbs: 0, fat: 3, category: "Et" },
            "bƒ±ldƒ±rcƒ±n": { name: "Bƒ±ldƒ±rcƒ±n", calories: 134, protein: 22, carbs: 0, fat: 5, category: "Et" },
            "tav≈üan eti": { name: "Tav≈üan Eti", calories: 173, protein: 33, carbs: 0, fat: 4, category: "Et" },
            "deve eti": { name: "Deve Eti", calories: 108, protein: 20, carbs: 0, fat: 3, category: "Et" },
            "deve ku≈üu eti": { name: "Deve Ku≈üu Eti", calories: 120, protein: 22, carbs: 0, fat: 3, category: "Et" },
            // DENƒ∞Z √úR√úNLERƒ∞
            "karides": { name: "Karides", calories: 99, protein: 24, carbs: 0.2, fat: 0.3, category: "Balƒ±k" },
            "midye": { name: "Midye", calories: 86, protein: 12, carbs: 3, fat: 2.2, category: "Balƒ±k" },
            "istiridye": { name: "ƒ∞stiridye", calories: 68, protein: 7, carbs: 4, fat: 2, category: "Balƒ±k" },
            "kalamar": { name: "Kalamar", calories: 92, protein: 15, carbs: 3, fat: 1, category: "Balƒ±k" },
            "ahtapot": { name: "Ahtapot", calories: 82, protein: 15, carbs: 2.2, fat: 1, category: "Balƒ±k" },
            "yenge√ß": { name: "Yenge√ß", calories: 87, protein: 18, carbs: 0, fat: 1, category: "Balƒ±k" },
            "ƒ±stakoz": { name: "Istakoz", calories: 89, protein: 19, carbs: 0, fat: 1, category: "Balƒ±k" },
            "hamsi": { name: "Hamsi", calories: 131, protein: 20, carbs: 0, fat: 5, category: "Balƒ±k" },
            "sardalya": { name: "Sardalya", calories: 208, protein: 25, carbs: 0, fat: 11, category: "Balƒ±k" },
            "alabalƒ±k": { name: "Alabalƒ±k", calories: 148, protein: 20, carbs: 0, fat: 7, category: "Balƒ±k" },
            "palamut": { name: "Palamut", calories: 168, protein: 23, carbs: 0, fat: 8, category: "Balƒ±k" },
            // MANTARLAR
            "k√ºlt√ºr mantarƒ±": { name: "K√ºlt√ºr Mantarƒ±", calories: 22, protein: 3.1, carbs: 3.3, fat: 0.3, category: "Sebze" },
            "shiitake": { name: "Shiitake Mantarƒ±", calories: 34, protein: 2.2, carbs: 7, fat: 0.5, category: "Sebze" },
            "portobello": { name: "Portobello Mantarƒ±", calories: 29, protein: 2.1, carbs: 4.3, fat: 0.3, category: "Sebze" },
            "istiridye mantarƒ±": { name: "ƒ∞stiridye Mantarƒ±", calories: 33, protein: 3.3, carbs: 6, fat: 0.4, category: "Sebze" },
            "tr√ºf mantarƒ±": { name: "Tr√ºf Mantarƒ±", calories: 31, protein: 2.5, carbs: 5.5, fat: 0.5, category: "Sebze" },
            "enoki": { name: "Enoki Mantarƒ±", calories: 37, protein: 2.7, carbs: 7.8, fat: 0.3, category: "Sebze" },
            // DAHA FAZLA BAKLAGƒ∞L/TAHIL
            "barbunya": { name: "Barbunya", calories: 127, protein: 8.4, carbs: 23, fat: 0.5, category: "Baklagil" },
            "b√∂r√ºlce": { name: "B√∂r√ºlce", calories: 44, protein: 2.8, carbs: 8.4, fat: 0.3, category: "Baklagil" },
            "ma≈ü fasulyesi": { name: "Ma≈ü Fasulyesi", calories: 105, protein: 7, carbs: 19, fat: 0.4, category: "Baklagil" },
            "siyah fasulye": { name: "Siyah Fasulye", calories: 132, protein: 8.9, carbs: 23, fat: 0.5, category: "Baklagil" },
            "lima fasulyesi": { name: "Lima Fasulyesi", calories: 115, protein: 7.8, carbs: 20, fat: 0.4, category: "Baklagil" },
            "kinoa": { name: "Kinoa", calories: 120, protein: 4.1, carbs: 21, fat: 1.9, category: "Tahƒ±l" },
            "amarant": { name: "Amarant", calories: 102, protein: 3.8, carbs: 19, fat: 1.6, category: "Tahƒ±l" },
            "teff": { name: "Teff", calories: 101, protein: 3.9, carbs: 20, fat: 0.6, category: "Tahƒ±l" },
            "darƒ±": { name: "Darƒ±", calories: 119, protein: 3.5, carbs: 23, fat: 1, category: "Tahƒ±l" },
            "sorgum": { name: "Sorgum", calories: 329, protein: 11, carbs: 72, fat: 3.3, category: "Tahƒ±l" },
            "arpa": { name: "Arpa", calories: 354, protein: 12, carbs: 73, fat: 2.3, category: "Tahƒ±l" },
            "karabuƒüday": { name: "Karabuƒüday", calories: 343, protein: 13, carbs: 71, fat: 3.4, category: "Tahƒ±l" },
            // D√úNYA EKMEKLERƒ∞
            "naan": { name: "Naan", calories: 310, protein: 9, carbs: 54, fat: 6, category: "Tahƒ±l" },
            "pita": { name: "Pita", calories: 275, protein: 9, carbs: 55, fat: 1, category: "Tahƒ±l" },
            "baget": { name: "Baget", calories: 270, protein: 8, carbs: 57, fat: 0.5, category: "Tahƒ±l" },
            "ciabatta": { name: "Ciabatta", calories: 250, protein: 8, carbs: 50, fat: 3, category: "Tahƒ±l" },
            "simit": { name: "Simit", calories: 272, protein: 9, carbs: 54, fat: 4.5, category: "Tahƒ±l" },
            "lava≈ü": { name: "Lava≈ü", calories: 260, protein: 7, carbs: 54, fat: 1, category: "Tahƒ±l" },
            "tortilla": { name: "Tortilla", calories: 218, protein: 6, carbs: 45, fat: 2.8, category: "Tahƒ±l" },
            "chapati": { name: "Chapati", calories: 297, protein: 8, carbs: 49, fat: 6, category: "Tahƒ±l" },
            "rye bread": { name: "Rye Bread", calories: 259, protein: 8.5, carbs: 48, fat: 3.3, category: "Tahƒ±l" },
            "focaccia": { name: "Focaccia", calories: 250, protein: 8, carbs: 45, fat: 7, category: "Tahƒ±l" },
            // TATLILAR
            "mochi": { name: "Mochi", calories: 96, protein: 1, carbs: 22, fat: 0.2, category: "Tatlƒ±" },
            "profiterol": { name: "Profiterol", calories: 350, protein: 6, carbs: 35, fat: 22, category: "Tatlƒ±" },
            "ekler": { name: "Ekler", calories: 285, protein: 5, carbs: 30, fat: 16, category: "Tatlƒ±" },
            "panna cotta": { name: "Panna Cotta", calories: 223, protein: 4, carbs: 25, fat: 12, category: "Tatlƒ±" },
            "churros": { name: "Churros", calories: 447, protein: 4, carbs: 51, fat: 25, category: "Tatlƒ±" },
            "lokma": { name: "Lokma", calories: 350, protein: 5, carbs: 50, fat: 15, category: "Tatlƒ±" },
            "g√ºlla√ß": { name: "G√ºlla√ß", calories: 120, protein: 2, carbs: 25, fat: 1, category: "Tatlƒ±" },
            "kadayƒ±f": { name: "Kadayƒ±f", calories: 350, protein: 5, carbs: 60, fat: 10, category: "Tatlƒ±" },
            "brownie": { name: "Brownie", calories: 466, protein: 5, carbs: 60, fat: 23, category: "Tatlƒ±" },
            "cupcake": { name: "Cupcake", calories: 305, protein: 3, carbs: 45, fat: 14, category: "Tatlƒ±" },
            "donut": { name: "Donut", calories: 452, protein: 4, carbs: 51, fat: 25, category: "Tatlƒ±" },
            // DAHA FAZLA ƒ∞√áECEK
            "kombucha": { name: "Kombucha", calories: 16, protein: 0.3, carbs: 4, fat: 0, category: "ƒ∞√ßecek" },
            "kefir": { name: "Kefir", calories: 41, protein: 3.3, carbs: 4.8, fat: 1, category: "ƒ∞√ßecek" },
            "boza": { name: "Boza", calories: 71, protein: 1, carbs: 16, fat: 0.2, category: "ƒ∞√ßecek" },
            "salep": { name: "Salep", calories: 77, protein: 2, carbs: 16, fat: 1, category: "ƒ∞√ßecek" },
            "matcha": { name: "Matcha", calories: 3, protein: 0.3, carbs: 0.4, fat: 0, category: "ƒ∞√ßecek" },
            "espresso": { name: "Espresso", calories: 2, protein: 0.3, carbs: 0, fat: 0, category: "ƒ∞√ßecek" },
            "americano": { name: "Americano", calories: 2, protein: 0.3, carbs: 0, fat: 0, category: "ƒ∞√ßecek" },
            "latte": { name: "Latte", calories: 54, protein: 2.7, carbs: 5, fat: 2, category: "ƒ∞√ßecek" },
            "smoothie": { name: "Smoothie", calories: 60, protein: 1, carbs: 14, fat: 0.5, category: "ƒ∞√ßecek" },
            "milkshake": { name: "Milkshake", calories: 120, protein: 3, carbs: 20, fat: 3, category: "ƒ∞√ßecek" },
            "≈üalgam suyu": { name: "≈ûalgam Suyu", calories: 20, protein: 0.7, carbs: 4.6, fat: 0.1, category: "ƒ∞√ßecek" },
            "demirhindi ≈üerbeti": { name: "Demirhindi ≈ûerbeti", calories: 80, protein: 0.5, carbs: 20, fat: 0.1, category: "ƒ∞√ßecek" },
            // DAHA FAZLA MEYVE
            "rambutan": { name: "Rambutan", calories: 68, protein: 0.9, carbs: 16, fat: 0.2, category: "Meyve" },
            "mangostan": { name: "Mangostan", calories: 73, protein: 0.4, carbs: 18, fat: 0.6, category: "Meyve" },
            "yƒ±ldƒ±z meyvesi": { name: "Yƒ±ldƒ±z Meyvesi", calories: 31, protein: 1, carbs: 7, fat: 0.3, category: "Meyve" },
            "guava": { name: "Guava", calories: 68, protein: 2.6, carbs: 14, fat: 1, category: "Meyve" },
            "passion fruit": { name: "Passion Fruit", calories: 97, protein: 2.2, carbs: 23, fat: 0.4, category: "Meyve" },
            "pitaya": { name: "Pitaya (Dragon Fruit)", calories: 60, protein: 1.2, carbs: 13, fat: 0.2, category: "Meyve" },
            "feijoa": { name: "Feijoa", calories: 55, protein: 0.6, carbs: 13, fat: 0.6, category: "Meyve" },
            "acerola": { name: "Acerola", calories: 32, protein: 0.4, carbs: 8, fat: 0.3, category: "Meyve" },
            "aronia": { name: "Aronia", calories: 47, protein: 1.4, carbs: 9, fat: 0.5, category: "Meyve" },
            "gooseberry": { name: "Gooseberry", calories: 44, protein: 1, carbs: 10, fat: 0.6, category: "Meyve" },
            "ku≈üburnu": { name: "Ku≈üburnu", calories: 162, protein: 1.6, carbs: 38, fat: 0.3, category: "Meyve" },
            "dut": { name: "Dut", calories: 43, protein: 1.4, carbs: 10, fat: 0.4, category: "Meyve" },
            "h√ºnnap": { name: "H√ºnnap", calories: 79, protein: 1.2, carbs: 20, fat: 0.2, category: "Meyve" },
            "zerdali": { name: "Zerdali", calories: 48, protein: 1.4, carbs: 11, fat: 0.4, category: "Meyve" },
            // DAHA FAZLA KURUYEMƒ∞≈û/TOHUM
            "makademya": { name: "Makademya", calories: 718, protein: 8, carbs: 14, fat: 76, category: "Kuruyemi≈ü" },
            "brezilya cevizi": { name: "Brezilya Cevizi", calories: 659, protein: 14, carbs: 12, fat: 67, category: "Kuruyemi≈ü" },
            "√ßam fƒ±stƒ±ƒüƒ±": { name: "√áam Fƒ±stƒ±ƒüƒ±", calories: 673, protein: 14, carbs: 13, fat: 68, category: "Kuruyemi≈ü" },
            "kabak √ßekirdeƒüi": { name: "Kabak √áekirdeƒüi", calories: 559, protein: 30, carbs: 11, fat: 49, category: "Kuruyemi≈ü" },
            "ay √ßekirdeƒüi": { name: "Ay √áekirdeƒüi", calories: 584, protein: 21, carbs: 20, fat: 51, category: "Kuruyemi≈ü" },
            "susam": { name: "Susam", calories: 573, protein: 18, carbs: 23, fat: 50, category: "Kuruyemi≈ü" },
            "ha≈üha≈ü tohumu": { name: "Ha≈üha≈ü Tohumu", calories: 525, protein: 18, carbs: 28, fat: 42, category: "Kuruyemi≈ü" },
            "badem ezmesi": { name: "Badem Ezmesi", calories: 614, protein: 21, carbs: 18, fat: 55, category: "Kuruyemi≈ü" },
            "fƒ±stƒ±k ezmesi": { name: "Fƒ±stƒ±k Ezmesi", calories: 588, protein: 25, carbs: 20, fat: 50, category: "Kuruyemi≈ü" }
        };
        
        // Sayfa y√ºklendiƒüinde √ßalƒ±≈üacak fonksiyonlar
        document.addEventListener('DOMContentLoaded', function() {
            applyTheme();
            initializeWaterTracker();
            loadFoodHistory();
            loadFavorites();
            updateDashboard();
            setupRealTimeSearch();
            loadPeriodData();
            updateCycleInfo();
        });
        
        // ADET TAKƒ∞P Sƒ∞STEMƒ∞
        function loadPeriodData() {
            // Kayƒ±tlƒ± verileri y√ºkle
            const savedData = JSON.parse(localStorage.getItem('periodData') || '{}');
            
            if (savedData.lastPeriodStart) {
                document.getElementById('lastPeriodStart').value = savedData.lastPeriodStart;
            }
            if (savedData.cycleLength) {
                document.getElementById('cycleLength').value = savedData.cycleLength;
            }
            if (savedData.periodLength) {
                document.getElementById('periodLength').value = savedData.periodLength;
            }
            
            // Bug√ºnk√º semptomlarƒ± y√ºkle
            loadTodaySymptoms();
            
            // Adet ge√ßmi≈üini y√ºkle
            loadPeriodHistory();
        }
        
        function updateCycleInfo() {
            const lastPeriodStart = document.getElementById('lastPeriodStart').value;
            const cycleLength = parseInt(document.getElementById('cycleLength').value);
            const periodLength = parseInt(document.getElementById('periodLength').value);
            
            if (!lastPeriodStart) {
                document.getElementById('cycleStatus').innerHTML = '<p>L√ºtfen son adet ba≈ülangƒ±√ß tarihini girin</p>';
                return;
            }
            
            // Verileri kaydet
            const periodData = {
                lastPeriodStart: lastPeriodStart,
                cycleLength: cycleLength,
                periodLength: periodLength
            };
            localStorage.setItem('periodData', JSON.stringify(periodData));
            
            // D√∂ng√º hesaplamalarƒ±
            const startDate = new Date(lastPeriodStart);
            const today = new Date();
            const daysSinceStart = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
            const currentCycleDay = (daysSinceStart % cycleLength) + 1;
            
            // Sonraki adet tahmini
            const nextPeriodDate = new Date(startDate);
            nextPeriodDate.setDate(startDate.getDate() + cycleLength);
            const daysUntilNext = Math.ceil((nextPeriodDate - today) / (1000 * 60 * 60 * 24));
            
            // Ov√ºlasyon hesaplama (d√∂ng√ºn√ºn ortasƒ±)
            const ovulationDate = new Date(startDate);
            ovulationDate.setDate(startDate.getDate() + Math.floor(cycleLength / 2));
            const daysUntilOvulation = Math.ceil((ovulationDate - today) / (1000 * 60 * 60 * 24));
            
            // Doƒüurganlƒ±k penceresi (ov√ºlasyondan 5 g√ºn √∂nce ve 1 g√ºn sonra)
            const fertileStart = new Date(ovulationDate);
            fertileStart.setDate(ovulationDate.getDate() - 5);
            const fertileEnd = new Date(ovulationDate);
            fertileEnd.setDate(ovulationDate.getDate() + 1);
            
            let statusHTML = '';
            
            // D√∂ng√º durumunu belirle
            if (currentCycleDay <= periodLength) {
                statusHTML = `
                    <div style="background: linear-gradient(135deg, #ff6b9d, #c44569); color: white; padding: 15px; border-radius: 10px;">
                        <h5>ü©∏ Adet D√∂nemi</h5>
                        <p>D√∂ng√ºn√ºn ${currentCycleDay}. g√ºn√º</p>
                        <p>Tahmini ${periodLength - currentCycleDay + 1} g√ºn daha s√ºrecek</p>
                    </div>
                `;
            } else if (Math.abs(daysUntilOvulation) <= 2) {
                statusHTML = `
                    <div style="background: linear-gradient(135deg, #ff9ff3, #f368e0); color: white; padding: 15px; border-radius: 10px;">
                        <h5>ü•ö Ov√ºlasyon D√∂nemi</h5>
                        <p>D√∂ng√ºn√ºn ${currentCycleDay}. g√ºn√º</p>
                        <p>Ov√ºlasyon g√ºn√º veya yakƒ±nƒ±</p>
                    </div>
                `;
            } else if (today >= fertileStart && today <= fertileEnd) {
                statusHTML = `
                    <div style="background: linear-gradient(135deg, #ff9ff3, #f368e0); color: white; padding: 15px; border-radius: 10px;">
                        <h5>üå∏ Doƒüurganlƒ±k Penceresi</h5>
                        <p>D√∂ng√ºn√ºn ${currentCycleDay}. g√ºn√º</p>
                        <p>Ov√ºlasyona ${Math.abs(daysUntilOvulation)} g√ºn kaldƒ±</p>
                    </div>
                `;
            } else {
                statusHTML = `
                    <div style="background: linear-gradient(135deg, #a8e6cf, #88d8c0); color: white; padding: 15px; border-radius: 10px;">
                        <h5>üå± Folik√ºler Faz</h5>
                        <p>D√∂ng√ºn√ºn ${currentCycleDay}. g√ºn√º</p>
                        <p>Sonraki adete ${daysUntilNext} g√ºn kaldƒ±</p>
                    </div>
                `;
            }
            
            // Ek bilgiler
            statusHTML += `
                <div style="margin-top: 15px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                    <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px;">
                        <strong>üìÖ Sonraki Adet:</strong><br>
                        ${nextPeriodDate.toLocaleDateString('tr-TR')}
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px;">
                        <strong>ü•ö Ov√ºlasyon:</strong><br>
                        ${ovulationDate.toLocaleDateString('tr-TR')}
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 8px;">
                        <strong>üå∏ Doƒüurganlƒ±k:</strong><br>
                        ${fertileStart.toLocaleDateString('tr-TR')} - ${fertileEnd.toLocaleDateString('tr-TR')}
                    </div>
                </div>
            `;
            
            document.getElementById('cycleStatus').innerHTML = statusHTML;
        }
        
        function saveSymptoms() {
            const checkboxes = document.querySelectorAll('.symptom-checkbox input[type="checkbox"]');
            const notes = document.getElementById('symptomNotes').value;
            const today = new Date().toISOString().split('T')[0];
            
            const symptoms = [];
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    symptoms.push(checkbox.value);
                }
            });
            
            const symptomData = {
                date: today,
                symptoms: symptoms,
                notes: notes
            };
            
            // Bug√ºnk√º semptomlarƒ± kaydet
            let allSymptoms = JSON.parse(localStorage.getItem('symptomHistory') || '{}');
            allSymptoms[today] = symptomData;
            localStorage.setItem('symptomHistory', JSON.stringify(allSymptoms));
        }
        
        function loadTodaySymptoms() {
            const today = new Date().toISOString().split('T')[0];
            const allSymptoms = JSON.parse(localStorage.getItem('symptomHistory') || '{}');
            const todaySymptoms = allSymptoms[today];
            
            if (todaySymptoms) {
                // Checkbox'larƒ± i≈üaretle
                const checkboxes = document.querySelectorAll('.symptom-checkbox input[type="checkbox"]');
                checkboxes.forEach(checkbox => {
                    checkbox.checked = todaySymptoms.symptoms.includes(checkbox.value);
                });
                
                // Notlarƒ± y√ºkle
                document.getElementById('symptomNotes').value = todaySymptoms.notes || '';
            }
        }
        
        function logPeriod() {
            const startDate = document.getElementById('periodStartDate').value;
            const endDate = document.getElementById('periodEndDate').value;
            const flowIntensity = document.getElementById('flowIntensity').value;
            
            if (!startDate) {
                alert('L√ºtfen adet ba≈ülangƒ±√ß tarihini girin!');
                return;
            }
            
            const periodEntry = {
                startDate: startDate,
                endDate: endDate || startDate,
                flowIntensity: flowIntensity,
                loggedAt: new Date().toISOString()
            };
            
            // Adet ge√ßmi≈üine ekle
            let periodHistory = JSON.parse(localStorage.getItem('periodHistory') || '[]');
            periodHistory.push(periodEntry);
            localStorage.setItem('periodHistory', JSON.stringify(periodHistory));
            
            // Son adet ba≈ülangƒ±cƒ±nƒ± g√ºncelle
            document.getElementById('lastPeriodStart').value = startDate;
            updateCycleInfo();
            
            // Formu temizle
            document.getElementById('periodStartDate').value = '';
            document.getElementById('periodEndDate').value = '';
            document.getElementById('flowIntensity').value = 'light';
            
            // Ge√ßmi≈üi yenile
            loadPeriodHistory();
            
            alert('Adet kaydƒ± ba≈üarƒ±yla eklendi!');
        }
        
        function loadPeriodHistory() {
            const periodHistory = JSON.parse(localStorage.getItem('periodHistory') || '[]');
            const container = document.getElementById('periodHistory');
            
            if (periodHistory.length === 0) {
                container.innerHTML = '<p style="text-align: center; opacity: 0.7;">Hen√ºz adet kaydƒ± yok</p>';
                return;
            }
            
            // En son kayƒ±tlardan ba≈ülayarak sƒ±rala
            periodHistory.sort((a, b) => new Date(b.startDate) - new Date(a.startDate));
            
            container.innerHTML = '';
            periodHistory.slice(0, 10).forEach((period, index) => {
                const div = document.createElement('div');
                div.style.cssText = 'background: rgba(255,255,255,0.1); padding: 15px; margin-bottom: 10px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);';
                
                const startDate = new Date(period.startDate).toLocaleDateString('tr-TR');
                const endDate = period.endDate ? new Date(period.endDate).toLocaleDateString('tr-TR') : startDate;
                
                const flowEmoji = {
                    'light': 'üü¢',
                    'medium': 'üü°', 
                    'heavy': 'üî¥'
                };
                
                div.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong>${startDate} - ${endDate}</strong>
                            <div style="font-size: 0.9em; opacity: 0.8; margin-top: 5px;">
                                ${flowEmoji[period.flowIntensity]} ${period.flowIntensity === 'light' ? 'Hafif' : period.flowIntensity === 'medium' ? 'Orta' : 'Yoƒüun'}
                            </div>
                        </div>
                        <button onclick="deletePeriodEntry(${index})" style="background: none; border: none; color: #ff6b6b; cursor: pointer; font-size: 1.2em;">üóëÔ∏è</button>
                    </div>
                `;
                
                container.appendChild(div);
            });
        }
        
        function deletePeriodEntry(index) {
            if (confirm('Bu adet kaydƒ±nƒ± silmek istediƒüinizden emin misiniz?')) {
                let periodHistory = JSON.parse(localStorage.getItem('periodHistory') || '[]');
                periodHistory.splice(index, 1);
                localStorage.setItem('periodHistory', JSON.stringify(periodHistory));
                loadPeriodHistory();
            }
        }
        
        // BESƒ∞N ARAMA
        function searchFood() {
            const searchTerm = document.getElementById('foodSearch').value.toLowerCase();
            const categoryFilter = document.getElementById('categoryFilter').value;
            const resultsContainer = document.getElementById('searchResults');
            
            resultsContainer.innerHTML = '';
            
            if (searchTerm.length === 0) {
                resultsContainer.innerHTML = '<p style="text-align: center; opacity: 0.7;">Besin aramak i√ßin yazmaya ba≈ülayƒ±n...</p>';
                return;
            }
            
            const results = Object.entries(foodDatabase).filter(([key, food]) => {
                const matchesSearch = key.includes(searchTerm) || 
                                    food.name.toLowerCase().includes(searchTerm) ||
                                    food.category.toLowerCase().includes(searchTerm);
                const matchesCategory = !categoryFilter || food.category === categoryFilter;
                return matchesSearch && matchesCategory;
            });
            
            // Sonu√ßlarƒ± √∂ncelik sƒ±rasƒ±na g√∂re sƒ±rala
            results.sort((a, b) => {
                const aKey = a[0];
                const bKey = b[0];
                const aName = a[1].name.toLowerCase();
                const bName = b[1].name.toLowerCase();
                
                // Tam e≈üle≈üme √∂ncelikli
                if (aKey === searchTerm || aName === searchTerm) return -1;
                if (bKey === searchTerm || bName === searchTerm) return 1;
                
                // Ba≈ülangƒ±√ß e≈üle≈ümesi √∂ncelikli
                if (aKey.startsWith(searchTerm) || aName.startsWith(searchTerm)) return -1;
                if (bKey.startsWith(searchTerm) || bName.startsWith(searchTerm)) return 1;
                
                // Alfabetik sƒ±ralama
                return aName.localeCompare(bName);
            });
            
            // ƒ∞lk 20 sonucu g√∂ster
            const limitedResults = results.slice(0, 20);
            
            limitedResults.forEach(([key, food]) => {
                const foodItem = createFoodItem(food);
                resultsContainer.appendChild(foodItem);
            });
            
            if (limitedResults.length === 0) {
                resultsContainer.innerHTML = '<p style="text-align: center; opacity: 0.7;">Besin bulunamadƒ±</p>';
            } else if (results.length > 20) {
                const moreDiv = document.createElement('div');
                moreDiv.style.textAlign = 'center';
                moreDiv.style.marginTop = '15px';
                moreDiv.style.color = 'var(--text-secondary)';
                moreDiv.innerHTML = `... ve ${results.length - 20} besin daha. Daha spesifik arama yapƒ±n.`;
                resultsContainer.appendChild(moreDiv);
            }
        }
        
        // Ger√ßek zamanlƒ± arama
        function setupRealTimeSearch() {
            const searchInput = document.getElementById('foodSearch');
            let searchTimeout;
            
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    searchFood();
                }, 300); // 300ms gecikme ile arama
            });
            
            // Kategori deƒüi≈ütiƒüinde de arama yap
            document.getElementById('categoryFilter').addEventListener('change', function() {
                searchFood();
            });
        }
        
        function createFoodItem(food) {
            const div = document.createElement('div');
            div.className = 'food-item';
            div.innerHTML = `
                <div class="food-name">
                    ${food.name}
                    <button class="favorite-btn" onclick="toggleFavorite('${food.name}')">‚≠ê</button>
                </div>
                <div class="nutrition-info">
                    <span>üî• ${food.calories} kcal</span>
                    <span>ü•© ${food.protein}g protein</span>
                    <span>üçû ${food.carbs}g karbonhidrat</span>
                    <span>ü•ë ${food.fat}g yaƒü</span>
                </div>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <input type="number" class="amount-input" value="100" min="1" max="1000">
                    <span>gram</span>
                    <button class="btn btn-success" onclick="addFood('${food.name}', this.previousElementSibling.previousElementSibling.value)">Ekle</button>
                </div>
            `;
            return div;
        }
        
        // FAVORƒ∞LER
        function toggleFavorite(foodName) {
            let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const index = favorites.indexOf(foodName);
            
            if (index > -1) {
                favorites.splice(index, 1);
            } else {
                favorites.push(foodName);
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
            loadFavorites();
        }
        
        function loadFavorites() {
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const container = document.getElementById('favoritesList');
            container.innerHTML = '';
            
            favorites.forEach(foodName => {
                const food = Object.values(foodDatabase).find(f => f.name === foodName);
                if (food) {
                    const foodItem = createFoodItem(food);
                    container.appendChild(foodItem);
                }
            });
            
            if (favorites.length === 0) {
                container.innerHTML = '<p style="text-align: center; opacity: 0.7;">Hen√ºz favori besin eklenmemi≈ü</p>';
            }
        }
        
        // BESƒ∞N EKLEME VE TAKƒ∞P
        function addFood(foodName, amount) {
            const food = Object.values(foodDatabase).find(f => f.name === foodName);
            if (!food) return;
            
            const multiplier = amount / 100;
            const foodEntry = {
                name: food.name,
                calories: Math.round(food.calories * multiplier),
                protein: Math.round(food.protein * multiplier * 10) / 10,
                carbs: Math.round(food.carbs * multiplier * 10) / 10,
                fat: Math.round(food.fat * multiplier * 10) / 10,
                amount: amount,
                time: new Date().toLocaleTimeString()
            };
            
            let foodHistory = JSON.parse(localStorage.getItem('foodHistory') || '[]');
            foodHistory.push(foodEntry);
            localStorage.setItem('foodHistory', JSON.stringify(foodHistory));
            
            loadFoodHistory();
            updateDashboard();
        }
        
        function loadFoodHistory() {
            const foodHistory = JSON.parse(localStorage.getItem('foodHistory') || '[]');
            const container = document.getElementById('foodList');
            container.innerHTML = '';
            
            foodHistory.forEach((food, index) => {
                const div = document.createElement('div');
                div.className = 'history-item';
                div.innerHTML = `
                    <div class="history-details">
                        <strong>${food.name}</strong> (${food.amount}g)
                        <div class="history-nutrition">
                            <span>üî• ${food.calories} kcal</span>
                            <span>ü•© ${food.protein}g</span>
                            <span>üçû ${food.carbs}g</span>
                            <span>ü•ë ${food.fat}g</span>
                            <span>üïê ${food.time}</span>
                        </div>
                    </div>
                    <button class="delete-btn" onclick="deleteFood(${index})">üóëÔ∏è</button>
                `;
                container.appendChild(div);
            });
            
            if (foodHistory.length === 0) {
                container.innerHTML = '<p style="text-align: center; opacity: 0.7;">Hen√ºz besin eklenmemi≈ü</p>';
            }
        }
        
        function deleteFood(index) {
            let foodHistory = JSON.parse(localStorage.getItem('foodHistory') || '[]');
            foodHistory.splice(index, 1);
            localStorage.setItem('foodHistory', JSON.stringify(foodHistory));
            loadFoodHistory();
            updateDashboard();
        }
        
        // DASHBOARD G√úNCELLEME
        function updateDashboard() {
            const foodHistory = JSON.parse(localStorage.getItem('foodHistory') || '[]');
            
            const totals = foodHistory.reduce((acc, food) => {
                acc.calories += food.calories;
                acc.protein += food.protein;
                acc.carbs += food.carbs;
                acc.fat += food.fat;
                return acc;
            }, { calories: 0, protein: 0, carbs: 0, fat: 0 });
            
            document.getElementById('totalCalories').textContent = totals.calories;
            document.getElementById('totalProtein').textContent = totals.protein.toFixed(1);
            document.getElementById('totalCarbs').textContent = totals.carbs.toFixed(1);
            document.getElementById('totalFat').textContent = totals.fat.toFixed(1);
            document.getElementById('totalCaloriesChart').textContent = totals.calories;
            
            // Progress bar g√ºncelleme
            const calorieTarget = parseInt(document.getElementById('calorieTarget').textContent);
            const proteinTarget = parseInt(document.getElementById('proteinTarget').textContent);
            const carbTarget = parseInt(document.getElementById('carbTarget').textContent);
            const fatTarget = parseInt(document.getElementById('fatTarget').textContent);
            
            document.getElementById('calorieProgress').style.width = Math.min((totals.calories / calorieTarget) * 100, 100) + '%';
            document.getElementById('proteinProgress').style.width = Math.min((totals.protein / proteinTarget) * 100, 100) + '%';
            document.getElementById('carbProgress').style.width = Math.min((totals.carbs / carbTarget) * 100, 100) + '%';
            document.getElementById('fatProgress').style.width = Math.min((totals.fat / fatTarget) * 100, 100) + '%';
        }
        
        // HEDEF HESAPLAMA (BMR - Bazal Metabolizma Hƒ±zƒ±)
        function calculateTargets() {
            const age = parseInt(document.getElementById('userAge').value);
            const gender = document.getElementById('userGender').value;
            const height = parseInt(document.getElementById('userHeight').value);
            const weight = parseInt(document.getElementById('userWeight').value);
            const activity = parseFloat(document.getElementById('activityLevel').value);
            const goal = document.getElementById('goal').value;
            
            if (!age || !height || !weight) {
                alert('L√ºtfen t√ºm alanlarƒ± doldurun!');
                return;
            }
            
            // BMR hesaplama (Mifflin-St Jeor form√ºl√º)
            let bmr;
            if (gender === 'male') {
                bmr = 10 * weight + 6.25 * height - 5 * age + 5;
            } else {
                bmr = 10 * weight + 6.25 * height - 5 * age - 161;
            }
            
            // TDEE hesaplama (Toplam G√ºnl√ºk Enerji Harcamasƒ±)
            let tdee = bmr * activity;
            
            // Hedef kalori hesaplama
            let targetCalories;
            switch (goal) {
                case 'lose':
                    targetCalories = tdee - 500; // 0.5kg/hafta kayƒ±p
                    break;
                case 'gain':
                    targetCalories = tdee + 500; // 0.5kg/hafta artƒ±≈ü
                    break;
                default:
                    targetCalories = tdee;
            }
            
            // Makro hedefleri
            const proteinTarget = weight * 2.2; // kg ba≈üƒ±na 2.2g protein
            const fatTarget = (targetCalories * 0.25) / 9; // %25 yaƒü
            const carbTarget = (targetCalories - (proteinTarget * 4) - (fatTarget * 9)) / 4;
            
            // Hedefleri g√ºncelle
            document.getElementById('calorieTarget').textContent = Math.round(targetCalories);
            document.getElementById('proteinTarget').textContent = Math.round(proteinTarget);
            document.getElementById('carbTarget').textContent = Math.round(carbTarget);
            document.getElementById('fatTarget').textContent = Math.round(fatTarget);
            
            updateDashboard();
            
            alert(`Hedefler hesaplandƒ±!\n\nBMR: ${Math.round(bmr)} kcal\nTDEE: ${Math.round(tdee)} kcal\nHedef Kalori: ${Math.round(targetCalories)}\nProtein: ${Math.round(proteinTarget)}g\nKarbonhidrat: ${Math.round(carbTarget)}g\nYaƒü: ${Math.round(fatTarget)}g`);
        }
        
        function editCalorieTarget() {
            const newTarget = prompt('Yeni kalori hedefi girin:');
            if (newTarget && !isNaN(newTarget)) {
                document.getElementById('calorieTarget').textContent = newTarget;
                updateDashboard();
            }
        }
        
        // VERƒ∞ Y√ñNETƒ∞Mƒ∞
        function exportData() {
            const data = {
                foodHistory: JSON.parse(localStorage.getItem('foodHistory') || '[]'),
                favorites: JSON.parse(localStorage.getItem('favorites') || '[]'),
                waterCount: localStorage.getItem('waterCount') || '0',
                theme: localStorage.getItem('theme') || 'light'
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = 'kalorimax-data.json';
            link.click();
            
            URL.revokeObjectURL(url);
        }
        
        function clearAllData() {
            if (confirm('T√ºm veriler silinecek. Emin misiniz?')) {
                localStorage.clear();
                location.reload();
            }
        }
        
        // Enter tu≈üu ile arama
        document.getElementById('foodSearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchFood();
            }
        });
    </script>
</body>
</html> 